import sys
from PyQt6.QtWidgets import QApplication, QMainWindow, QWidget, QVBoxLayout
from PyQt6.QtPdf import QPdfView
from PyQt6.QtGui import QPainter, QColor

class CustomPdfView(QPdfView):
    def paintEvent(self, event):
        # Manually fill the entire widget with white color
        painter = QPainter(self)
        painter.fillRect(self.rect(), QColor('white'))

        # Call base class paintEvent to draw the PDF content
        super().paintEvent(event)

class PdfViewerWidget(QWidget):
    def __init__(self):
        super().__init__()
        layout = QVBoxLayout(self)
        self.pdf_viewer = CustomPdfView()  # Use custom subclass CustomPdfView
        layout.addWidget(self.pdf_viewer)
        self.setLayout(layout)

class MainWindow(QMainWindow):
    def __init__(self):
        super().__init__()
        self.setWindowTitle("PDF Viewer Example")

        self.pdf_viewer_widget = PdfViewerWidget()
        self.setCentralWidget(self.pdf_viewer_widget)

def main():
    path = '/Users/joshuataylor/Documents/python/MyProjects/MathNote/gui/cache_tex/f0e77545.pdf'
    app = QApplication(sys.argv)
    window = MainWindow()
    window.setGeometry(100, 100, 800, 600)
    window.show()
    sys.exit(app.exec())

if __name__ == '__main__':
    main()
